# Hero

## 简介

基于线程池（`ForkJoinPool`）的任务处理单元

🌟 支持提交Runnable、Callable接口实现的任务

## 工作流程

1. 客户端获取计算单元的实例（单例）
2. 确定当前的计算任务是顺序相关还是非顺序相关的，根据任务的类型注册不同的结果接收结构（队列或者集合）
3. 客户端通过`check`Api来获取任务状态
4. 任务完成之后客户端负责注销结果接收结构对象，如果未主动注销，一段时间后计算单元会自动注销

## 通信相关

客户端与计算单元的通信以客户端的线程ID作为标识，查看自己提交的任务处理进度

任务处理器需要维护所有的正在执行的任务

任务处理器应该是单例，一台服务器只需要一个处理单元，后续可以做成分布式

客户端负责注销自己的Queue或者Set，如果闲置超过时间N，那么由处理器注销

## Api

### 接口
* ICalUnit

### 实现类
* CalUnit

CalUnit创建参数，需要实现一个多线程环境中安全、高效的单例
创建参数：最大工作线程、释放结果保存结构超时时间，单线程最多任务数